<div class="max-w-full mx-auto h-[calc(100vh-120px)] flex flex-col bg-white">
  <!-- Progress bar (only show when quiz is not completed) -->
  <div *ngIf="!quizCompleted" class="h-1 bg-purple-600 transition-all duration-300 ease-in-out" [style.width.%]="(currentQuestionIndex + 1) / totalQuestions * 100"></div>

  <!-- Quiz content (only show when quiz is not completed) -->
  <div *ngIf="!quizCompleted" class="flex-1 p-4 flex flex-col">
    <!-- Question counter -->
    <div class="text-sm text-gray-500 mb-2">
      Question {{ currentQuestionIndex + 1 }} of {{ totalQuestions }}
    </div>

    <!-- Question text -->
    <div class="text-lg font-medium mb-6">
      {{ currentQuestion.text }}
    </div>

    <!-- Answer options -->
    <div class="flex flex-col gap-3 mb-auto">
      <div *ngFor="let option of currentQuestion.options" 
           (click)="selectOption(option.id)"
           class="flex items-center p-3 border rounded-lg cursor-pointer transition-all duration-200"
           [ngClass]="{
             'border-purple-600 bg-purple-50': isOptionSelected(option.id),
             'border-gray-200 hover:border-gray-300 hover:bg-gray-50': !isOptionSelected(option.id)
           }">
        <div class="flex-1">{{ option.text }}</div>
        <div *ngIf="isOptionSelected(option.id)" class="ml-2 w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center text-white">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </div>
        <div *ngIf="!isOptionSelected(option.id)" class="ml-2 w-6 h-6 rounded-full border border-gray-300"></div>
      </div>
    </div>
  </div>

  <!-- Results screen (only show when quiz is completed) -->
  <app-quiz-results *ngIf="quizCompleted" 
                   [score]="score" 
                   [totalQuestions]="totalQuestions"
                   (restart)="restartQuiz()">
  </app-quiz-results>

  <!-- Next button (only show when quiz is not completed) -->
  <div *ngIf="!quizCompleted" class="p-4 border-t border-gray-200">
    <button (click)="nextQuestion()" 
            class="w-full py-3 bg-black text-white rounded-lg font-medium flex items-center justify-center transition-colors duration-200 hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed"
            [disabled]="selectedOptionId === null">
      Next
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-1">
        <line x1="5" y1="12" x2="19" y2="12"></line>
        <polyline points="12 5 19 12 12 19"></polyline>
      </svg>
    </button>
  </div>
</div> 